{"remainingRequest":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\src\\views\\Login.vue","mtime":1719200049564},{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\babel.config.js","mtime":1719204512564},{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719204516279},{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719204515864},{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719204516279},{"path":"C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719204532621}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IFZhbGlkQ29kZSBmcm9tICIuLi9jb21wb25lbnRzL1ZhbGlkYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgVmFsaWRDb2RlOiBWYWxpZENvZGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWxpZENvZGU6ICcnLAogICAgICAvL+mAmui/h3ZhbGljb2Rl6I635Y+W55qE6aqM6K+B56CBCiAgICAgIGZvcm06IHt9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGVWYWxpZENvZGU6IGZ1bmN0aW9uIGNyZWF0ZVZhbGlkQ29kZShkYXRhKSB7CiAgICAgIHRoaXMudmFsaWRDb2RlID0gZGF0YTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIV90aGlzLmZvcm0udmFsaWRDb2RlKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi6K+35aGr5YaZ6aqM6K+B56CBIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuZm9ybS52YWxpZENvZGUudG9Mb3dlckNhc2UoKSAhPT0gX3RoaXMudmFsaWRDb2RlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCLpqozor4HnoIHplJnor68iKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHJlcXVlc3QucG9zdCgidXNlci9sb2dpbiIsIF90aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCLnmbvlvZXmiJDlip8iKTsKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsgLy/nvJPlrZjnlKjmiLfkv6Hmga8KCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Jogging\\Desktop\\git2\\library-management\\library\\library\\vue\\src\\views\\Login.vue"],"names":[],"mappings":";AA6DA,OAAO,OAAP,MAAoB,kBAApB;AACA,SAAQ,SAAR,QAAwB,cAAxB;AACA,OAAO,SAAP,MAAsB,wBAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAC;AACT,IAAA,SAAQ,EAAR;AADS,GAFE;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,EADN;AACS;AACd,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,QAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ,CADL;AAQL,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,OAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ;AARL;AAHF,KAAP;AAsBD,GA5BY;AA6Bb,EAAA,OAAO,EAAE;AACP,IAAA,eADO,2BACS,IADT,EACc;AACnB,WAAK,SAAL,GAAiB,IAAjB;AACD,KAHM;AAIP,IAAA,KAJO,mBAIA;AAAA;;AACL,WAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,CAA4B,UAAC,KAAD,EAAW;AACrC,YAAI,KAAJ,EAAW;AACT,cAAI,CAAC,KAAI,CAAC,IAAL,CAAU,SAAf,EAA0B;AACxB,YAAA,SAAS,CAAC,KAAV,CAAgB,QAAhB;AACA;AACF;;AACA,cAAG,KAAI,CAAC,IAAL,CAAU,SAAV,CAAoB,WAApB,OAAsC,KAAI,CAAC,SAAL,CAAe,WAAf,EAAzC,EAAuE;AACrE,YAAA,SAAS,CAAC,KAAV,CAAgB,OAAhB;AACA;AACF;;AAEA,UAAA,OAAO,CAAC,IAAR,CAAa,YAAb,EAA2B,KAAI,CAAC,IAAhC,EAAsC,IAAtC,CAA2C,UAAA,GAAE,EAAK;AAChD,gBAAI,GAAG,CAAC,IAAJ,IAAY,CAAhB,EAAmB;AACjB,cAAA,SAAS,CAAC,OAAV,CAAkB,MAAlB;AACA,cAAA,cAAc,CAAC,OAAf,CAAuB,MAAvB,EAA8B,IAAI,CAAC,SAAL,CAAe,GAAG,CAAC,IAAnB,CAA9B,EAFiB,CAEsC;;AACvD,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,YAAlB;AACF,aAJA,MAIO;AACL,cAAA,SAAS,CAAC,KAAV,CAAgB,GAAG,CAAC,GAApB;AACF;AACD,WARD;AASF;AACD,OArBD;AAuBF;AA5BO;AA7BI,CAAf","sourcesContent":["<template>\n  <div\n      style=\"height: 100vh;\n  display: flex; align-items: center;\n  justify-content: center;\n\n  \"\n      class=\"login-wrap\"\n>\n    <div style=\"display: flex; background-color: white; width: 30%;height: 50%; border-radius: 5px; overflow: hidden\">\n      <div style=\"flex: 1; display: flex; align-items: center; justify-content: center\">\n        <el-form :model=\"form\" style=\"width: 80%\" :rules=\"rules\" ref=\"form\">\n          <div style=\"font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 40px\">欢迎登录图书管理系统</div>\n          <el-form-item prop=\"username\">\n                    <el-input v-model=\"form.username\" size=\"medium\" placeholder=\"请输入账号\"  clearable>\n                    <template #prefix>\n                       <el-icon class=\"el-input__icon\"><User /></el-icon>\n                    </template>\n                   </el-input>\n\n          </el-form-item>\n\n          <el-form-item prop=\"password\">\n            <el-input v-model=\"form.password\"   size=\"medium\"  placeholder=\"请输入密码\" clearable show-password>\n              <template #prefix>\n                <el-icon class=\"el-input__icon\" ><Lock /></el-icon>\n              </template>\n            </el-input>\n\n          </el-form-item>\n          <el-form-item prop=\"code\">\n            <div style=\"display: flex\">\n              <el-input placeholder=\"请输入验证码\" prefix-icon=\"el-icon-circle-check\" size=\"medium\" style=\"flex: 1\" v-model=\"form.validCode\">\n                <template #prefix>\n                  <el-icon class=\"el-input__icon\" ><Check/></el-icon>\n                </template>\n              </el-input>\n              <div style=\"flex: 1; height: 36px;margin-left: 13px\">\n\n                <ValidCode @input=\"createValidCode\" style=\"width: 50%\"/>\n              </div>\n            </div>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" style=\"width: 100%\" @click=\"login\">登 录</el-button>\n          </el-form-item>\n          <div style=\"display: flex\">\n            <div style=\"flex: 1\">还没有账号？请 <span style=\"color: #0f9876; cursor: pointer\" @click=\"$router.push('/register')\">注册</span></div>\n          </div>\n        </el-form>\n      </div>\n    </div>\n\n\n\n\n</div>\n\n</template>\n\n<script>\nimport request from \"../utils/request\";\nimport {ElMessage} from \"element-plus\";\nimport ValidCode from \"../components/Validate\";\n\nexport default {\n  name: \"Login\",\n  components:{\n    ValidCode\n  },\n  data() {\n    return {\n      validCode: '',//通过valicode获取的验证码\n      form: {},\n      rules: {\n        username: [\n          {\n            required: true,\n            message: '请输入用户名',\n            trigger: 'blur',\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: '请输入密码',\n            trigger: 'blur',\n          }\n        ]\n\n      }\n\n    }\n  },\n  methods: {\n    createValidCode(data){\n      this.validCode = data\n    },\n    login(){\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          if (!this.form.validCode) {\n            ElMessage.error(\"请填写验证码\")\n            return\n          }\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            ElMessage.error(\"验证码错误\")\n            return\n          }\n\n          request.post(\"user/login\", this.form).then(res => {\n            if (res.code == 0) {\n              ElMessage.success(\"登录成功\")\n              sessionStorage.setItem(\"user\",JSON.stringify(res.data))//缓存用户信息\n              this.$router.push(\"/dashboard\")\n            } else {\n              ElMessage.error(res.msg)\n            }\n          })\n        }\n      })\n\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n.login-wrap {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  //background: #2186dc;\n  background-image: url(\"../assets/img/bg2.dd39329b.svg\")!important;\n\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n</style>"],"sourceRoot":""}]}