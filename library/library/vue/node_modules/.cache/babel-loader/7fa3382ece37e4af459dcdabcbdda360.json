{"remainingRequest":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\LIbraryManagement\\library-management\\library\\library\\vue\\src\\views\\User.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\src\\views\\User.vue","mtime":1719286509579},{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\babel.config.js","mtime":1719286499737},{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719286501438},{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719286501270},{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719286501438},{"path":"D:\\LIbraryManagement\\library-management\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719286508732}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgICB2YXIgdXNlclN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSB8fCAie30iOwogICAgdGhpcy51c2VyID0gSlNPTi5wYXJzZSh1c2VyU3RyKTsKICB9LAogIG5hbWU6ICdVc2VyJywKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5pZHMgPSB2YWwubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUJhdGNoOiBmdW5jdGlvbiBkZWxldGVCYXRjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pZHMubGVuZ3RoKSB7CiAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqeaVsOaNru+8gSIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyAg5LiA5Liq5bCP5LyY5YyW77yM55u05o6l5Y+R6YCB6L+Z5Liq5pWw57uE77yM6ICM5LiN5piv5LiA5Liq5LiA5Liq55qE5o+Q5Lqk5Yig6ZmkCgoKICAgICAgcmVxdWVzdC5wb3N0KCIvdXNlci9kZWxldGVCYXRjaCIsIHRoaXMuaWRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygi5om56YeP5Yig6Zmk5oiQ5YqfIik7CgogICAgICAgICAgX3RoaXMubG9hZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCJ1c2VyL3VzZXJzZWFyY2giLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBzZWFyY2gxOiB0aGlzLnNlYXJjaDEsCiAgICAgICAgICBzZWFyY2gyOiB0aGlzLnNlYXJjaDIsCiAgICAgICAgICBzZWFyY2gzOiB0aGlzLnNlYXJjaDMsCiAgICAgICAgICBzZWFyY2g0OiB0aGlzLnNlYXJjaDQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5zZWFyY2gxID0gIiI7CiAgICAgIHRoaXMuc2VhcmNoMiA9ICIiOwogICAgICB0aGlzLnNlYXJjaDMgPSAiIjsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXF1ZXN0LmRlbGV0ZSgidXNlci8iICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICB9IGVsc2UgRWxNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwoKICAgICAgICBfdGhpczMubG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5mb3JtLmlkKSB7CiAgICAgICAgcmVxdWVzdC5wdXQoIi91c2VyIiwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0LmxvYWQoKTsgLy/kuI3nn6XpgZPkuLrllaXvvIzmm7TmlrDlv4XpobvopoHmlL7lnKjov5nph4zpnaIKCgogICAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXF1ZXN0LnBvc3QoIi91c2VyIiwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNC5sb2FkKCk7CgogICAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIHRoaXMuZm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7fSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlYXJjaDE6ICcnLAogICAgICBzZWFyY2gyOiAnJywKICAgICAgc2VhcmNoMzogJycsCiAgICAgIHNlYXJjaDQ6ICcnLAogICAgICB0b3RhbDogMTAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHVzZXI6IHt9LAogICAgICBpZHM6IFtdCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["D:\\LIbraryManagement\\library-management\\library\\library\\vue\\src\\views\\User.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 用户管理 -->\r\n<template>\r\n  <div class=\"home\" style =\"padding: 10px\">\r\n<!-- 按钮-->\r\n<!-- 搜索-->\r\n    <div style=\"margin: 10px 0;\">\r\n      <el-form inline=\"true\" size=\"small\">\r\n        <el-form-item label=\"读者编号\" >\r\n      <el-input v-model=\"search1\" placeholder=\"请输入读者编号\"  clearable>\r\n        <template #prefix><el-icon class=\"el-input__icon\"><search/></el-icon></template>\r\n      </el-input>\r\n          </el-form-item >\r\n        <el-form-item label=\"姓名\" >\r\n          <el-input v-model=\"search2\" placeholder=\"请输入姓名\"  clearable>\r\n            <template #prefix><el-icon class=\"el-input__icon\"><search /></el-icon></template>\r\n          </el-input>\r\n        </el-form-item >\r\n        <el-form-item label=\"电话号码\" >\r\n          <el-input v-model=\"search3\" placeholder=\"请输入电话号码\"  clearable>\r\n            <template #prefix><el-icon class=\"el-input__icon\"><search /></el-icon></template>\r\n          </el-input>\r\n        </el-form-item >\r\n        <el-form-item label=\"地址\" >\r\n          <el-input v-model=\"search4\" placeholder=\"请输入地址\"  clearable>\r\n            <template #prefix><el-icon class=\"el-input__icon\"><search /></el-icon></template>\r\n          </el-input>\r\n        </el-form-item >\r\n        <el-form-item>\r\n      <el-button type=\"primary\" style=\"margin-left: 1%\" @click=\"load\" size=\"mini\">查询</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button size=\"mini\"  type=\"danger\" @click=\"clear\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- 按钮-->\r\n    <div style=\"margin: 10px 0;\" >\r\n      <el-popconfirm title=\"确认删除?\" @confirm=\"deleteBatch\" v-if=\"user.role == 1\">\r\n        <template #reference>\r\n          <el-button type=\"danger\" size=\"mini\" >批量删除</el-button>\r\n        </template>\r\n      </el-popconfirm>\r\n    </div>\r\n<!-- 数据字段-->\r\n    <el-table :data=\"tableData\" stripe border=\"true\"  @selection-change=\"handleSelectionChange\" >\r\n      <el-table-column v-if=\"user.role ==1 \"\r\n                       type=\"selection\"\r\n                       width=\"55\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"id\" label=\"读者编号\" sortable />\r\n      <el-table-column prop=\"username\" label=\"用户名\" />\r\n      <el-table-column prop=\"nickName\" label=\"姓名\" />\r\n      <el-table-column prop=\"phone\" label=\"电话号码\" />\r\n      <el-table-column prop=\"sex\" label=\"性别\" />\r\n      <el-table-column prop=\"address\" label=\"地址\" />\r\n      <el-table-column fixed=\"right\" label=\"操作\" >\r\n        <template v-slot=\"scope\">\r\n          <el-button  size=\"mini\" @click =\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-popconfirm title=\"确认删除?\" @confirm=\"handleDelete(scope.row.id)\">\r\n            <template #reference>\r\n              <el-button type=\"danger\" size=\"mini\" >删除</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n<!--    分页-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n          v-model:currentPage=\"currentPage\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n\r\n      <el-dialog v-model=\"dialogVisible\" title=\"编辑读者信息\" width=\"30%\">\r\n        <el-form :model=\"form\" label-width=\"120px\">\r\n          <el-form-item label=\"用户名\">\r\n            <el-input style=\"width: 80%\" v-model=\"form.username\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"昵称\">\r\n            <el-input style=\"width: 80%\" v-model=\"form.nickName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"电话号码\">\r\n            <el-input style=\"width: 80%\" v-model=\"form.phone\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别\">\r\n            <div>\r\n              <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n              <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item label=\"地址\">\r\n            <el-input type=\"textarea\" style=\"width: 80%\" v-model=\"form.address\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n      </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport request from \"../utils/request\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  created(){\r\n    this.load()\r\n    let userStr = sessionStorage.getItem(\"user\") ||\"{}\"\r\n    this.user = JSON.parse(userStr)\r\n  },\r\n  name: 'User',\r\n  methods: {\r\n    handleSelectionChange(val){\r\n      this.ids = val.map(v => v.id)\r\n    },\r\n    deleteBatch(){\r\n      if (!this.ids.length) {\r\n        ElMessage.warning(\"请选择数据！\")\r\n        return\r\n      }\r\n      //  一个小优化，直接发送这个数组，而不是一个一个的提交删除\r\n      request.post(\"/user/deleteBatch\",this.ids).then(res =>{\r\n        if(res.code === '200'){\r\n          ElMessage.success(\"批量删除成功\")\r\n          this.load()\r\n        }\r\n        else {\r\n          ElMessage.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n    load(){\r\n      request.get(\"user/usersearch\",{\r\n        params:{\r\n          pageNum: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          search1: this.search1,\r\n          search2: this.search2,\r\n          search3: this.search3,\r\n          search4: this.search4,\r\n        }\r\n      }).then(res =>{\r\n        console.log(res)\r\n        this.tableData = res.data.records\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n    clear(){\r\n      this.search1 = \"\"\r\n      this.search2 = \"\"\r\n      this.search3 = \"\"\r\n      this.load()\r\n    },\r\n\r\n    handleDelete(id){\r\n      request.delete(\"user/\" + id ).then(res =>{\r\n        console.log(res)\r\n        if(res.code == 200 ){\r\n          ElMessage.success(\"删除成功\")\r\n        }\r\n        else\r\n          ElMessage.error(res.msg)\r\n        this.load()\r\n      })\r\n    },\r\n\r\n\r\n    add(){\r\n      this.dialogVisible= true\r\n      this.form ={}\r\n    },\r\n    save(){\r\n      if(this.form.id){\r\n        request.put(\"/user\",this.form).then(res =>{\r\n          console.log(res)\r\n          if(res.code == 0){\r\n            ElMessage({\r\n              message: '更新成功',\r\n              type: 'success',\r\n            })\r\n          }\r\n          else {\r\n            ElMessage.error(res.msg)\r\n          }\r\n\r\n          this.load() //不知道为啥，更新必须要放在这里面\r\n          this.dialogVisible = false\r\n        })\r\n      }\r\n      else {\r\n        request.post(\"/user\",this.form).then(res =>{\r\n          console.log(res)\r\n          if(res.code == 0){\r\n            ElMessage.success('添加成功')\r\n          }\r\n          else {\r\n            ElMessage.error(res.msg)\r\n          }\r\n          this.load()\r\n          this.dialogVisible = false\r\n        })\r\n      }\r\n\r\n    },\r\n\r\n\r\n    handleEdit(row){\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      form: {},\r\n      dialogVisible : false,\r\n      search1:'',\r\n      search2:'',\r\n      search3:'',\r\n      search4:'',\r\n      total:10,\r\n      currentPage:1,\r\n      pageSize: 10,\r\n      tableData: [\r\n\r\n      ],\r\n      user:{},\r\n      ids:[],\r\n    }\r\n  },\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}