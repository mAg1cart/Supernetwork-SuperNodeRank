{"remainingRequest":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\src\\views\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\src\\views\\Register.vue","mtime":1719277107795},{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\babel.config.js","mtime":1719285211827},{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719285213716},{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1719285213531},{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719285213716},{"path":"E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719285221284}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmltcG9ydCBWYWxpZENvZGUgZnJvbSAiLi4vY29tcG9uZW50cy9WYWxpZGF0ZSI7CmltcG9ydCB7IENoZWNrIH0gZnJvbSAiQGVsZW1lbnQtcGx1cy9pY29ucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIENoZWNrOiBDaGVjaywKICAgIFZhbGlkQ29kZTogVmFsaWRDb2RlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybToge30sCiAgICAgIHZhbGlkQ29kZTogJycsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAyLAogICAgICAgICAgbWF4OiAxMywKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqbopoHmsYLkuLoy5YiwMTPkvY0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29uZmlybTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+ehruiupOWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBhdXRob3JpemU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXms6jlhoznoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZVZhbGlkQ29kZTogZnVuY3Rpb24gY3JlYXRlVmFsaWRDb2RlKGRhdGEpIHsKICAgICAgdGhpcy52YWxpZENvZGUgPSBkYXRhOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXMuZm9ybS52YWxpZENvZGUpIHsKICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCLor7floavlhpnpqozor4HnoIEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpcy5mb3JtLnZhbGlkQ29kZS50b0xvd2VyQ2FzZSgpICE9PSBfdGhpcy52YWxpZENvZGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoIumqjOivgeeggemUmeivryIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzLmZvcm0ucGFzc3dvcmQgIT0gX3RoaXMuZm9ybS5jb25maXJtKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi5Lik5qyh5a+G56CB6L6T5YWl5LiN5LiA6Ie0Iik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuZm9ybS5yb2xlID09IDEgJiYgX3RoaXMuZm9ybS5hdXRob3JpemUgIT0gIjEyMzQiKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi6K+36L6T5YWl5q2j56Gu55qE5rOo5YaM56CBIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXF1ZXN0LnBvc3QoInVzZXIvcmVnaXN0ZXIiLCBfdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcygi5rOo5YaM5oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["E:\\Users\\学校课程\\毕业实习\\源代码\\lib_mag\\library\\library\\vue\\src\\views\\Register.vue"],"names":[],"mappings":"AAyEA,OAAO,OAAP,MAAoB,kBAApB;AACA,SAAQ,SAAR,QAAwB,cAAxB;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAQ,KAAR,QAAoB,qBAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAC;AACT,IAAA,KAAK,EAAL,KADS;AAET,IAAA,SAAQ,EAAR;AAFS,GAFE;AAMb,EAAA,IANa,kBAMP;AACJ,WAAM;AACJ,MAAA,IAAI,EAAC,EADD;AAEJ,MAAA,SAAS,EAAE,EAFP;AAGJ,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,QAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ,EAMR;AACE,UAAA,GAAG,EAAE,CADP;AAEE,UAAA,GAAG,EAAE,EAFP;AAGE,UAAA,OAAO,EAAE,YAHX;AAIE,UAAA,OAAO,EAAE;AAJX,SANQ,CADL;AAcL,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,OAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ,CAdL;AAqBP,QAAA,OAAO,EAAC,CACN;AACE,UAAA,QAAQ,EAAC,IADX;AAEE,UAAA,OAAO,EAAC,OAFV;AAGE,UAAA,OAAO,EAAC;AAHV,SADM,CArBD;AA4BL,QAAA,SAAS,EAAC,CACR;AACE,UAAA,QAAQ,EAAC,IADX;AAEE,UAAA,OAAO,EAAC,QAFV;AAGE,UAAA,OAAO,EAAC;AAHV,SADQ;AA5BL;AAHH,KAAN;AAwCC,GA/CU;AAiDb,EAAA,OAAO,EAAC;AACN,IAAA,eADM,2BACU,IADV,EACe;AACnB,WAAK,SAAL,GAAgB,IAAhB;AACD,KAHK;AAIN,IAAA,QAJM,sBAII;AAAA;;AACR,WAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,CAA4B,UAAC,KAAD,EAAW;AACrC,YAAI,KAAJ,EAAW;AACT,cAAI,CAAC,KAAI,CAAC,IAAL,CAAU,SAAf,EAA0B;AACxB,YAAA,SAAS,CAAC,KAAV,CAAgB,QAAhB;AACA;AACF;;AACA,cAAG,KAAI,CAAC,IAAL,CAAU,SAAV,CAAoB,WAApB,OAAsC,KAAI,CAAC,SAAL,CAAe,WAAf,EAAzC,EAAuE;AACrE,YAAA,SAAS,CAAC,KAAV,CAAgB,OAAhB;AACA;AACF;;AACA,cAAG,KAAI,CAAC,IAAL,CAAU,QAAV,IAAsB,KAAI,CAAC,IAAL,CAAU,OAAnC,EACA;AACE,YAAA,SAAS,CAAC,KAAV,CAAgB,WAAhB;AACA;AACF;;AACA,cAAG,KAAI,CAAC,IAAL,CAAU,IAAV,IAAkB,CAAlB,IAAuB,KAAI,CAAC,IAAL,CAAU,SAAV,IAAuB,MAAjD,EACA;AACE,YAAA,SAAS,CAAC,KAAV,CAAgB,WAAhB;AACA;AACF;;AACA,UAAA,OAAO,CAAC,IAAR,CAAa,eAAb,EAA6B,KAAI,CAAC,IAAlC,EAAwC,IAAxC,CAA6C,UAAA,GAAG,EAAE;AAChD,gBAAG,GAAG,CAAC,IAAJ,IAAY,CAAf,EACA;AACE,cAAA,SAAS,CAAC,OAAV,CAAkB,MAAlB;;AACA,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACF,aAJA,MAKK;AAAC,cAAA,SAAS,CAAC,KAAV,CAAgB,GAAG,CAAC,GAApB;AAAwB;AAC/B,WAPD;AAQF;AACD,OA7BD;AA+BF;AApCM;AAjDK,CAAf","sourcesContent":["<!-- 注册 -->\r\n<template>\r\n  <div class=\"login-wrap\" style=\"height: 100vh; display: flex; align-items: center; justify-content: center;  background-color: white;\">\r\n    <div style=\"display: flex; background-color: white; width: 30%; border-radius: 5px; overflow: hidden\">\r\n<!--      <div style=\"flex: 1\">-->\r\n<!--        <img src=\"@/assets/img/down.jpeg\" alt=\"\" style=\"width: 100%\">-->\r\n<!--      </div>-->\r\n      <div style=\"flex: 1; display: flex; align-items: center; justify-content: center\">\r\n        <el-form :model=\"form\" style=\"width: 80%\" :rules=\"rules\" ref=\"form\">\r\n          <div style=\"font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 15px\">用户注册</div>\r\n          <el-form-item prop=\"username\">\r\n            <el-input prefix-icon=\"el-icon-user\" size=\"medium\" placeholder=\"请输入账号\" v-model=\"form.username\">\r\n              <template #prefix>\r\n                <el-icon class=\"el-input__icon\"><User/></el-icon>\r\n              </template>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input prefix-icon=\"el-icon-lock\" size=\"medium\" show-password placeholder=\"请输入密码\" v-model=\"form.password\">\r\n              <template #prefix>\r\n                <el-icon class=\"el-input__icon\"><Lock /></el-icon>\r\n              </template>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"confirmPass\">\r\n            <el-input prefix-icon=\"el-icon-lock\" size=\"medium\" show-password placeholder=\"请确认密码\" v-model=\"form.confirm\">\r\n              <template #prefix>\r\n                <el-icon class=\"el-input__icon\"><Lock /></el-icon>\r\n              </template>\r\n            </el-input>\r\n          </el-form-item>\r\n<!--          <el-form-item prop=\"role\">-->\r\n<!--            <el-radio v-model=\"form.role\" label=\"2\">读者</el-radio>-->\r\n<!--            <el-radio v-model=\"form.role\" label=\"1\">管理员</el-radio>-->\r\n<!--          </el-form-item>-->\r\n          <el-form-item prop=\"role\">\r\n            <el-radio-group v-model=\"form.role\">\r\n              <el-radio label=\"2\">读者</el-radio>\r\n              <el-radio label=\"1\">管理员</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item prop=\"authorize\" v-if=\"form.role==1\">\r\n            <el-input v-model=\"form.authorize\" placeholder=\"请输入管理员注册码\" clearable show-password>\r\n              <template #prefix>\r\n                <el-icon class=\"el-input__icon\"><Lock /></el-icon>\r\n              </template>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <div style=\"display: flex\">\r\n              <el-input  v-model=\"form.validCode\" style=\"width: 45%;\" placeholder=\"请输入验证码\">\r\n                <template #prefix>\r\n                  <el-icon class=\"el-input__icon\"><Check /></el-icon>\r\n                </template>\r\n              </el-input>\r\n              <ValidCode @input=\"createValidCode\" style=\"width: 50%\"/>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"info\" style=\"width: 100%\" @click=\"register\">注 册</el-button>\r\n          </el-form-item>\r\n          <div style=\"display: flex\">\r\n            <div style=\"flex: 1\">已经有账号了？请 <span style=\"color: #6e77f2; cursor: pointer\" @click=\"$router.push('/login')\">登录</span></div>\r\n          </div>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport request from \"../utils/request\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport ValidCode from \"../components/Validate\";\r\nimport {Check} from \"@element-plus/icons\";\r\nexport default {\r\n  name: \"Login\",\r\n  components:{\r\n    Check,\r\n    ValidCode\r\n  },\r\n  data(){\r\n    return{\r\n      form:{},\r\n      validCode: '',\r\n      rules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: '请输入用户名',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 13,\r\n            message: '长度要求为2到13位',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: '请输入密码',\r\n            trigger: 'blur',\r\n          }\r\n        ],\r\n      confirm:[\r\n        {\r\n          required:true,\r\n          message:\"请确认密码\",\r\n          trigger:\"blur\"\r\n        }\r\n      ],\r\n        authorize:[\r\n          {\r\n            required:true,\r\n            message:\"请输入注册码\",\r\n            trigger:\"blur\"\r\n          }\r\n        ],\r\n      }\r\n    }\r\n    },\r\n\r\n  methods:{\r\n    createValidCode(data){\r\n      this.validCode =data\r\n    },\r\n    register(){\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.form.validCode) {\r\n            ElMessage.error(\"请填写验证码\")\r\n            return\r\n          }\r\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\r\n            ElMessage.error(\"验证码错误\")\r\n            return\r\n          }\r\n          if(this.form.password != this.form.confirm)\r\n          {\r\n            ElMessage.error(\"两次密码输入不一致\")\r\n            return\r\n          }\r\n          if(this.form.role == 1 && this.form.authorize != \"1234\")\r\n          {\r\n            ElMessage.error(\"请输入正确的注册码\")\r\n            return\r\n          }\r\n          request.post(\"user/register\",this.form).then(res=>{\r\n            if(res.code == 0)\r\n            {\r\n              ElMessage.success(\"注册成功\")\r\n              this.$router.push(\"/login\")\r\n            }\r\n            else {ElMessage.error(res.msg)}\r\n          })\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.login-wrap {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n//background: #2186dc;\r\n  background-image: url(\"../assets/img/bg2.dd39329b.svg\")!important;\r\n\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}